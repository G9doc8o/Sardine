title: 【转载】Go语言fmt.Printf使用指南（占位符总结）
date: 2021-06-19 11:58:25
toc: true
category: 
 - 转载
 - Go
tags: 
 - 转载
 - Go
 - Golang
 - 占位符
 - 总结
 - 语言
---

本文转载自：[Go语言fmt.Printf使用指南（占位符总结） - Ambition-LC - 博客园](https://www.cnblogs.com/forever521Lee/p/10700549.html#_labelTop)

---

本文整理了Go语言的标准输出流（fmt.Printf）在打印到屏幕时的格式化输出操作。

在这里按照占位符将被替换的变量类型划分，更方便查询和记忆。


<!-- more -->


## 1.1 General（通用占位符）

| 占位符 | 说明                                                                                             |
| -------- | -------------------------------------------------------------------------------------------------- |
| %v     | 以默认的方式打印变量的值（万能占位符，如果不知道变量是什么类型，用%v即可，go语言会自动为你识别） |
| %T     | 打印变量的类型                                                                                   |
| %%     | 字面上的百分号，并非值的占位符                                                                   |

补充：

%v：默认格式的值。当打印结构时，加号(%+v)会增加字段名;
**%#v：Go 样式的值表达;**

示例：

```go
package main

import "fmt"

func main() {
	var (
		a = 100
		b = "henry"
	)

	// %v俗称占位符
	fmt.Printf("a=%v\n", a)
	// %T 打印类型
	fmt.Printf("b的类型是%T\n", b)
	// %%转义
	fmt.Printf("%d%%\n", a)
}
```

执行结果：

![](https://b3logfile.com/file/2021/06/solo-fetchupload-3129116804600113009-e7c4f92d.png)

## 1.2 Integer（整型）

| 占位符 | 说明                |
| -------- | --------------------- |
| %+d    | 带符号的整型        |
| %q     | 打印单引号          |
| %o     | 不带零的八进制      |
| %#o    | 带零的八进制        |
| %x     | 小写的十六进制      |
| %X     | 大写的十六进制      |
| %#x    | 带0x的十六进制      |
| %U     | 打印Unicode字符     |
| %#U    | 打印带字符的Unicode |
| **%b** | 打印整型的二进制    |

## 1.3 Integer width（指定长度的整型，以5为例）

| 占位符 | 说明                          |
| -------- | ------------------------------- |
| %5d    | 整型长度为5，右对齐，左边留白 |
| %-5d   | 左对齐右边留白                |
| %05d   | 数字前面补零                  |

示例：

```go
package main

import "fmt"

func main() {
	var (
		a = 100
	)

	fmt.Printf("|%d|\n", a)
	fmt.Printf("|%8d|\n", a)
	fmt.Printf("|%-8d|\n", a)
	fmt.Printf("|%08d|\n", a)
}
```

执行结果：

![](https://b3logfile.com/file/2021/06/solo-fetchupload-5521591022137571142-ee12179d.png)

## 1.4 Float（浮点数）

| 占位符 | 说明                            |
| -------- | --------------------------------- |
| %f     | (=%.6f) 6位小数点               |
| %e     | (=%.6e) 6位小数点（科学计数法） |
| %g     | 用最少的数字来表示              |
| %.3g   | 最多3位数字来表示               |
| %.3f   | 最多3位小数来表示               |

示例：

```go
package main

import "fmt"

func main() {
	f1 := 3.141592654
	fmt.Printf("%.2f\n", f1) //最多2位小数表示
	fmt.Printf("%.2g\n", f1) //最多用2位数字表示
}
```

执行结果：

![](https://b3logfile.com/file/2021/06/solo-fetchupload-4033795274561282096-ca63e9da.png)

## 1.5 String（字符串）

| 占位符 | 说明                                                 |
| -------- | ------------------------------------------------------ |
| %s     | 正常输出字符串                                       |
| %q     | 字符串带双引号，字符串中的引号带转义符               |
| %#q    | 字符串带反引号，如果字符串内有反引号，就用双引号代替 |
| %x     | 将字符串转换为小写的16进制格式                       |
| %X     | 将字符串转换为大写的16进制格式                       |
| % x    | 带空格的16进制格式                                   |

示例：

```go
package main

import "fmt"

func main() {
	s1 := "这是一个字符串\""
	fmt.Printf("s1:%s\n", s1) // %s 正常输出字符串
	fmt.Printf("s1:%q\n", s1) // %q 字符串带双引号，字符串中的引号带转义符
}
```

执行结果：

![](https://b3logfile.com/file/2021/06/solo-fetchupload-5991599813402467706-64378629.png)

## 1.6 String Width (指定长度的字符串，以5为例）

| 占位符 | 说明                                |
| -------- | ------------------------------------- |
| %5s    | 最小宽度为5                         |
| %-5s   | 最小宽度为5（左对齐）               |
| %.5s   | 最大宽度为5                         |
| %5.7s  | 最小宽度为5，最大宽度为7            |
| %-5.7s | 最小宽度为5，最大宽度为7（左对齐）  |
| %5.3s  | 如果宽度大于3，则截断               |
| %05s   | 如果宽度小于5，就会在字符串前面补零 |

代码示例：

```go
package main

import "fmt"

func main() {
	s1 := "这是一个字符串\""

	fmt.Printf("s1:+s\n", s1) //字符串最小宽度为20
	fmt.Printf("s1:%.5s\n", s1) //字符串最大宽度为5
}
```

执行结果：

![](https://b3logfile.com/file/2021/06/solo-fetchupload-5590531611922872834-6a33eca3.png)

## 1.7 Struct（结构体）

| 占位符 | 说明                               |
| -------- | ------------------------------------ |
| %v     | 以默认的方式打印变量的值           |
| %+v    | 在打印结构体时，会添加字段名       |
| %#v    | 在打印结构体时，会添加字段名和包名 |

## 1.8 Boolean（布尔值）

| 占位符 | 说明            |
| -------- | ----------------- |
| %t     | 打印true或false |

## 1.9 Pointer（指针）

| 占位符 | 说明                                       |
| -------- | -------------------------------------------- |
| %p     | 带0x的指针（指针值带有`0x`的十六进制前缀） |
| %#p    | 不带0x的指针                               |
