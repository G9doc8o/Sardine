title: TePass使用过程的坑！
date: 2022-05-24 13:40:00
toc: false
index_img: http://api.btstu.cn/sjbz/?lx=m_dongman&cid=1
category:
- 技巧
tags:
- 配置
- 支持
- 格式
---

配置TePass时有很多坑：下面一一记录下：

1. 支付宝发回调通知时，需要验签，在验签这步使用的是支付宝的公钥，很多人看文档不认真，弄成了商户应用的公钥；
2. 网站的问题，比如用了CDN，那么需要找到自己网站的回调URL，在CDN设置中排除回调URL（此URL不执行CDN）；
3. 网址在支付宝的黑名单，肯定无法接收到通知；
4. 商户私钥公钥生成的版本有问题，至少需要1.4以上的版本；
5. 回调地址填错了，或者在支付宝的开放平台没有填回调地址；
6. 支付宝回调通知中返回数据格式的问题，转义符方面注意一下，需要自己去处理；
7. 需确认页面是http还是https，如果是https，那么需要安装ssl证书，证书要求有如下：要求“正规的证书机构签发，不支持自签名”。

注意：notify_url页面只能返回success，异步通知页面上不可有任何HTML代码。

